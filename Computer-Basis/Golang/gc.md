### 屏障技术
- 在用户读取、创建、更新对象时执行的代码
#### 读屏障
- 需要在读操作中加入代码
#### 写屏障
##### 插入写屏障
- 对象赋值（写）的时候执行一个原子操作，里面包含更改对象颜色和赋值
- 有可能被引用的都会变成灰色，满足强三色不变性
- 栈上对象会被认为是根对象，为了内存安全
	- 为栈上对象使用写屏障
	- 重新扫描栈
##### 删除写屏障
- 保证开启写屏障时堆上所有对象可达
- 在老对象引用被删除时将白色的老对象变成灰色，保证了弱三色不变性
#### 三色不变性
##### 强：黑色不会指向白色
##### 弱：黑色可以指向白色，但是这个白色必须是另一个灰色可达的