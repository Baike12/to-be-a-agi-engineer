### range
还是被转换成三段式循环
#### 现象
- 用一个切片a的元素的地址给另一个元素时指针类型的切片b通过range赋值时，切片b中的所有元素都是a的最后一个元素
- 使用range清理切片或者map时，go会一次性清理
- go的map有随机性
### 范围循环range
#### 数组和切片
- 编译器会在代码中添加代码
##### 遍历不关心索引和元素
直接优化成最简单的for循环
##### 只关心索引
创建一个v1用来存储索引
##### 索引和元素都关心
优化器会创建一个v2来存储元素值，循环中使用的v2会在每一次迭代被重新赋值，赋值时会触发拷贝
#### hash
- 遍历时会生成随机数随机选取一个桶，所以不能依赖对hash的顺序
- 再从桶中选取数据
- hash扩容期间使用mapaccessk获取键值对，正常情况下从内存中获取
- 变量正常桶之后遍历溢出桶
- 最后按照索引顺序遍历其他桶
#### 字符串
- 获取索引和字节，并把字节转换成rune
- 如果是ascii只占一个字节，然后将索引 +  + ，如果不是，也会自动转换
#### 通道
- 调用runtime.chanrecv2阻塞当前协程，然后判断当前值是否存在，不存在就说明当前管道被关闭了